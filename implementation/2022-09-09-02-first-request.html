<!DOCTYPE HTML>
<html lang="en" >
    <head><meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>02 - First Request · Pycon Workshop Bloomreach</title><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="On Pycon 2022 Bloomreach reveals their hiring assignment. On this pages are documents describing how to implement it,  and questions that will help you to understand better the assignment and things used in the implementation."><meta name="generator" content="Jekyll (using style of GitBook 3.2.3)"><meta name="author" content="Ondrej Unger"><link rel="stylesheet" href="/pycon-2022/assets/gitbook/style.css">
<link rel="stylesheet" href="/pycon-2022/assets/gitbook/gitbook-plugin-fontsettings/website.css">
<link rel="stylesheet" href="/pycon-2022/assets/gitbook/gitbook-plugin-search-pro/search.css">
<link rel="stylesheet" href="/pycon-2022/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.css">

<link rel="stylesheet" href="/pycon-2022/assets/gitbook/rouge/colorful.css">

<link rel="stylesheet" href="/pycon-2022/assets/gitbook/custom.css">

<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/pycon-2022/assets/gitbook/images/apple-touch-icon-precomposed-152.png">
<link rel="shortcut icon" href="/pycon-2022//assets/gitbook/images/favicon.png" type="image/x-icon">





<script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        svg: {
            fontCache: 'global'
        }
    };
</script>
            <link rel="prev" href="/pycon-2022/implementation/2022-09-09-01-start.html" />
        

        
            <link rel="next" href="/pycon-2022/implementation/2022-09-09-03-timeout.html" />
        
    </head>
    <body>
        <div class="book"><div class="book-summary">
    <nav role="navigation">
        <div id="book-search-input" role="search">
            <input type="text" placeholder="Type to search" />
        </div>
        <div id="book-search-input-link" role="search">
            <a href="/pycon-2022/assets/search.html">Click to Search</a>
        </div>
        <ul class="summary">
            
            <li class="chapter" data-level="1.1" data-path="/pycon-2022">
            
                <a href="/pycon-2022/">
                    Pycon Workshop Bloomreach
                </a>
            </li>

            <li class="divider"></li>

            
                <!-- <p>pages</p> -->
                
                    

                    
                        
                        <li class="chapter" data-level="1.1" data-path="/pycon-2022/pages/about/">
                        
                            <a href="/pycon-2022/pages/about/">
                                About
                            </a>
                            
                                
                            
                        </li>
                    

                    
                        <li class="divider"></li>
                    
                
            
                <!-- <p>posts</p> -->
                
                    

                    
                        
                        <li class="chapter" data-level="1.1" data-path="/pycon-2022/assignment/2022-09-09-00-assigment.html">
                        
                            <a href="/pycon-2022/assignment/2022-09-09-00-assigment.html">
                                00 - Assignment
                            </a>
                            
                                
                            
                        </li>
                    
                        
                        <li class="chapter" data-level="1.1" data-path="/pycon-2022/implementation/2022-09-09-01-start.html">
                        
                            <a href="/pycon-2022/implementation/2022-09-09-01-start.html">
                                01 - Start
                            </a>
                            
                                
                            
                        </li>
                    
                        
                        <li class="chapter active" data-level="1.2" data-path="/pycon-2022/implementation/2022-09-09-02-first-request.html">
                        
                            <a href="/pycon-2022/implementation/2022-09-09-02-first-request.html">
                                02 - First Request
                            </a>
                            
                                
                                    <ul><li><a href="#triggering-the-first-request">Triggering the first request</a></li></ul>

                                
                            
                        </li>
                    
                        
                        <li class="chapter" data-level="1.1" data-path="/pycon-2022/implementation/2022-09-09-03-timeout.html">
                        
                            <a href="/pycon-2022/implementation/2022-09-09-03-timeout.html">
                                03 - Timeout
                            </a>
                            
                                
                            
                        </li>
                    
                        
                        <li class="chapter" data-level="1.1" data-path="/pycon-2022/implementation/2022-09-09-04-all-request.html">
                        
                            <a href="/pycon-2022/implementation/2022-09-09-04-all-request.html">
                                04 - All request
                            </a>
                            
                                
                            
                        </li>
                    
                        
                        <li class="chapter" data-level="1.1" data-path="/pycon-2022/implementation/2022-09-09-05-add-tests.html">
                        
                            <a href="/pycon-2022/implementation/2022-09-09-05-add-tests.html">
                                05 - Add tests
                            </a>
                            
                                
                            
                        </li>
                    

                    
                        <li class="divider"></li>
                    
                
            

            <li>
                <a href="https://github.com/UOndro/pycon-2022/fork" target="blank" class="gitbook-link">
                    Fork it Now!
                </a>
            </li>
        </ul>
    </nav>
</div>
<div class="book-body">
                <div class="book-header" role="navigation">
                    <!-- Title -->
                    <h1>
                        <i class="fa fa-circle-o-notch fa-spin"></i>
                        
                            <a href="." >02 - First Request</a>
                        
                    </h1>
                </div>

                <div class="body-inner"><div class="page-wrapper" tabindex="-1" role="main">
    

    <div class="page-inner">
        <div id="book-search-results">
            <div class="search-noresults">
                <section class="normal markdown-section">
                    
                        <h1 id="/implementation/02-first-request">02 - First Request</h1>
                    

                    <blockquote>
  <p><strong><em>BRANCH:</em></strong>  You can start from the branch <code class="language-plaintext highlighter-rouge">start</code>.</p>

  <p><code class="language-plaintext highlighter-rouge">git checkout start</code></p>
</blockquote>

<p>It is always good to split complex problem into multiple smaller ones. We will do the same thing with our assignment. So,
let’s now focus only on the first request.</p>

<h2 id="triggering-the-first-request">Triggering the first request</h2>

<p>To get the response from our testing server we can use python library <code class="language-plaintext highlighter-rouge">requests</code>.</p>

<ol>
  <li>
    <p>Import the <code class="language-plaintext highlighter-rouge">requests</code> library.</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">requests</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Get the response from our testing server.</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"/api/smart"</span><span class="p">)</span>
 <span class="k">def</span> <span class="nf">smart_api_requester</span><span class="p">():</span>
     <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">BLOOMREACH_SERVER</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>Check the status code of the response.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"/api/smart"</span><span class="p">)</span>
 <span class="k">def</span> <span class="nf">smart_api_requester</span><span class="p">():</span>
     <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">BLOOMREACH_SERVER</span><span class="p">)</span>
     <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="n">HTTPStatus</span><span class="p">.</span><span class="n">OK</span><span class="p">:</span>
         <span class="k">pass</span>
</code></pre></div>    </div>
  </li>
  <li>Based on the status code, return a response from our endpoint.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"/api/smart"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">smart_api_requester</span><span class="p">():</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">BLOOMREACH_SERVER</span><span class="p">)</span>
   
    <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="n">HTTPStatus</span><span class="p">.</span><span class="n">OK</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">success</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">response</span><span class="o">=</span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">success</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ol>


                </section>
            </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div></div>
    </div>
</div>

                        <a href="/pycon-2022/implementation/2022-09-09-01-start.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: 01 - Start">
                            <i class="fa fa-angle-left"></i>
                        </a>
                    

                    
                        <a href="/pycon-2022/implementation/2022-09-09-03-timeout.html" class="navigation navigation-next navigation-unique" aria-label="Next page: 03 - Timeout">
                            <i class="fa fa-angle-right"></i>
                        </a>
                    
                </div>
            </div>

            <script>
            var gitbook = gitbook || [];
            gitbook.push(function() {
                gitbook.page.hasChanged({
    "page": {
        "title": "Introduction",
        "level": "1.1",
        "depth": 1,
        
        "next": {
            "title": "03 - Timeout",
            "level": "1.2",
            "depth": 1,
            "path": "_posts/2022-09-09-03-timeout.md",
            "ref": "_posts/2022-09-09-03-timeout.md",
            "articles": []
        },
        
        "dir": "ltr"
    },    "config": {
        "plugins": ["fontsettings", "highlight", "livereload", "lunr", "search", "sharing", "theme-default", "livereload"],
        "styles": {
            "ebook": "styles/ebook.css",
            "epub": "styles/epub.css",
            "mobi": "styles/mobi.css",
            "pdf": "styles/pdf.css",
            "print": "styles/print.css",
            "website": "styles/website.css"
        },
        "pluginsConfig": {
            "fontsettings": {
                "family": "sans",
                "size": 2,
                "theme": "white"
            },
            "highlight": {},
            "livereload": {},
            "lunr": {
                "ignoreSpecialCharacters": false,
                "maxIndexSize": 1000000
            },
            "search": {},            "sharing": {
                "all": ["facebook", "google", "twitter", "weibo", "instapaper", "github", "telegram"],
                "facebook": true,
                "google": false,
                "github": true,
                "github_link": "https://github.com",
                "telegram": false,
                "telegram_link": "https://t.me",
                "instapaper": false,
                "twitter": true,
                "vk": false,
                "weibo": false
            },
"theme-default": {
                "showLevel": false,
                "styles": {
                    "ebook": "styles/ebook.css",
                    "epub": "styles/epub.css",
                    "mobi": "styles/mobi.css",
                    "pdf": "styles/pdf.css",
                    "print": "styles/print.css",
                    "website": "styles/website.css"
                }
            }
        },
        "theme": "default",
        "author": "Tao He",
        "pdf": {
            "pageNumbers": true,
            "fontSize": 12,
            "fontFamily": "Arial",
            "paperSize": "a4",
            "chapterMark": "pagebreak",
            "pageBreaksBefore": "/",
            "margin": {
                "right": 62,
                "left": 62,
                "top": 56,
                "bottom": 56
            }
        },
        "structure": {
            "langs": "LANGS.md",
            "readme": "README.md",
        },
        "variables": {},
        "title": "Pycon Workshop Bloomreach",
        "language": "en",
        "gitbook": "*"
    },
    "file": {
        "path": "_posts/2022-09-09-02-first-request.md",
        "mtime": "2022-09-09 00:00:00 +0000",
        "type": "markdown"
    },
    "gitbook": {
        "version": "3.2.3",
        "time": "2022-09-11 08:12:09 +0000"
    },
    "basePath": "/pycon-2022",
    "book": {
        "language": ""
    }
});
            });
            </script>
        </div><script src="/pycon-2022/assets/gitbook/gitbook.js"></script>
<script src="/pycon-2022/assets/gitbook/theme.js"></script>

<script src="/pycon-2022/assets/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
<script src="/pycon-2022/assets/gitbook/gitbook-plugin-sharing/buttons.js"></script>

<!-- <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
<script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
<script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
<script src="../gitbook/gitbook-plugin-search/search.js"></script> -->

<script src="/pycon-2022/assets/gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
<script src="/pycon-2022/assets/gitbook/gitbook-plugin-search-pro/search.js"></script>
<script src="/pycon-2022/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>

<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

</body>
</html>